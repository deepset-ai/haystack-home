{{/* Github stars button */}}

{{ $accessToken := getenv "GITHUB_ACCESS_TOKEN" }}
{{ $starCount := 0 }}

{{ with $accessToken }}
{{/* Authorization */}}
{{ $auth := (dict "Authorization" (printf "Bearer %s" $accessToken)) }}

{{/* Fetch Stargazer count */}}
{{ $starsData := getJSON "https://api.github.com/repos/deepset-ai/haystack" $auth }}
{{/* Format number to K (2000 -> 2k) */}}
{{ $starCount = (div $starsData.stargazers_count 1000) | lang.FormatNumber 1 }}
{{ $starCount = printf (print $starCount "%s") "k"}}
{{ end }}

{{/* Button */}}
<a class="github-stars-btn" href="https://github.com/deepset-ai/haystack" target="_blank" rel="noopener"><svg
    xmlns="http://www.w3.org/2000/svg" width="28" height="27" viewBox="0 0 28 27" fill="none">
    <path
      d="M28 13.8694C28 10.1911 26.5249 6.66352 23.8992 4.06252C21.2735 1.46153 17.7123 0.000198922 13.9989 0C10.2858 0.000596739 6.72502 1.46212 4.09977 4.0631C1.47452 6.66407 -0.000200843 10.1915 2.05163e-08 13.8694C0.000265648 16.7572 0.910113 19.573 2.60274 21.9243C4.29536 24.2756 6.6864 26.0452 9.44261 26.9865C9.63935 26.8865 9.80809 26.7398 9.93385 26.5597C10.0596 26.3795 10.1385 26.1713 10.1635 25.9537C10.1635 25.1908 10.1468 23.2287 10.1468 23.2287C9.65848 23.3 9.16536 23.3344 8.67175 23.3314C7.97364 23.3746 7.28071 23.1879 6.70094 22.8002C6.12117 22.4126 5.68713 21.846 5.46642 21.1885C5.16201 20.4179 4.60909 19.7684 3.89364 19.3411C3.53169 19.1101 3.44841 18.8378 3.86716 18.7598C5.80187 18.4013 6.29635 20.9207 7.58818 21.3228C8.48166 21.5985 9.44805 21.5222 10.2862 21.1098C10.4049 20.3931 10.8037 19.7515 11.3963 19.3239C8.11066 19.0126 6.16228 17.8882 5.15214 16.0813L5.04386 15.8788L4.79021 15.305L4.71446 15.0995C4.39044 14.0841 4.23697 13.0229 4.26015 11.9582C4.22895 11.2255 4.34989 10.4943 4.61547 9.80972C4.88104 9.12516 5.2856 8.50187 5.80413 7.97842C5.3805 6.66197 5.46715 5.23641 6.04719 3.97983C6.04719 3.97983 7.46928 3.68956 10.1582 5.58572C11.6151 4.97067 15.5004 4.91966 17.339 5.4492C18.4665 4.71414 20.5307 3.67231 21.3629 3.96408C21.5901 4.32186 22.0739 5.3637 21.6574 7.65364C22.8335 8.89546 23.4655 10.548 23.415 12.25C23.4117 13.211 23.2909 14.1681 23.0553 15.1003L22.9341 15.5075C22.9341 15.5075 22.8644 15.6996 22.7895 15.8826L22.7009 16.0851C21.7264 18.1943 19.7265 18.9818 16.4917 19.3104C17.5389 19.9599 17.8388 20.7745 17.8388 22.9789C17.8388 25.1833 17.8092 25.4789 17.816 25.9859C17.8464 26.196 17.9247 26.3965 18.0448 26.5722C18.165 26.7478 18.3239 26.8942 18.5096 27C21.277 26.066 23.6799 24.2977 25.3818 21.943C27.0837 19.5884 27.9992 16.7653 28 13.8694Z"
      fill="#2B2F55" />
  </svg>
  Stars <span class="separator">|</span><span class="github-stars-js">{{ $starCount }}</span></a>